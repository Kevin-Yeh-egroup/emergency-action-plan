# Vercel éƒ¨ç½² 404 éŒ¯èª¤è§£æ±ºæª¢æŸ¥æ¸…å–®

## âœ… å·²å®Œæˆçš„é…ç½®å„ªåŒ–

1. **vercel.json é…ç½®**
   - âœ… å·²å„ªåŒ– `rewrites` è¦å‰‡ï¼Œç²¾ç¢ºæ’é™¤æ‰€æœ‰éœæ…‹è³‡æº
   - âœ… ç¢ºä¿æ‰€æœ‰å­é é¢è·¯ç”±éƒ½æœƒé‡å¯«åˆ°æ ¹è·¯å¾‘ `/`

2. **Next.js é…ç½®**
   - âœ… `app/page.tsx` æ˜¯å®¢æˆ¶ç«¯çµ„ä»¶ï¼Œæœƒè‡ªå‹•å‹•æ…‹æ¸²æŸ“
   - âœ… `app/not-found.tsx` å·²è¨­ç½® `export const dynamic = 'force-dynamic'`
   - âœ… `app/layout.tsx` é…ç½®æ­£ç¢º

## ğŸ“‹ å»ºè­°çš„ä¸‹ä¸€æ­¥æ“ä½œ

### æ­¥é©Ÿ 1: æ¸…é™¤ Vercel æ§‹å»ºç·©å­˜

1. ç™»å…¥ [Vercel Dashboard](https://vercel.com/dashboard)
2. é¸æ“‡æ‚¨çš„å°ˆæ¡ˆ
3. å‰å¾€ **Settings** â†’ **General**
4. æ‰¾åˆ° **Build & Development Settings**
5. é»æ“Š **Clear Build Cache** æˆ– **Purge Everything**
6. ç¢ºèªæ¸…é™¤ç·©å­˜

### æ­¥é©Ÿ 2: æª¢æŸ¥éƒ¨ç½²æ—¥èªŒ

1. åœ¨ Vercel Dashboard ä¸­ï¼Œå‰å¾€ **Deployments** æ¨™ç±¤
2. é»æ“Šæœ€æ–°çš„éƒ¨ç½²è¨˜éŒ„
3. æŸ¥çœ‹ **Build Logs** å’Œ **Function Logs**
4. å°‹æ‰¾ä»¥ä¸‹ä¿¡æ¯ï¼š
   - æ˜¯å¦æœ‰æ§‹å»ºéŒ¯èª¤
   - 404 éŒ¯èª¤ç™¼ç”Ÿçš„å…·é«”è·¯ç”±
   - éŒ¯èª¤ç™¼ç”Ÿçš„æ™‚é–“é»

### æ­¥é©Ÿ 3: é‡æ–°éƒ¨ç½²

1. åœ¨ Vercel Dashboard ä¸­ï¼Œé»æ“Š **Deployments**
2. æ‰¾åˆ°æœ€æ–°çš„éƒ¨ç½²
3. é»æ“Š **â‹¯** (ä¸‰å€‹é») â†’ **Redeploy**
4. é¸æ“‡ **Use existing Build Cache** ç‚º **No** (ä¸ä½¿ç”¨ç·©å­˜)
5. é»æ“Š **Redeploy**

### æ­¥é©Ÿ 4: é©—è­‰éƒ¨ç½²

éƒ¨ç½²å®Œæˆå¾Œï¼Œæ¸¬è©¦ä»¥ä¸‹è·¯ç”±ï¼š
- `/` (é¦–é )
- `/ä»»æ„è·¯å¾‘` (æ‡‰è©²é‡å¯«åˆ°é¦–é )
- æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°æ˜¯å¦æœ‰éŒ¯èª¤

## ğŸ” å¦‚æœå•é¡Œä»ç„¶å­˜åœ¨

### é¸é … A: å˜—è©¦ç§»é™¤ vercel.json

å¦‚æœå•é¡ŒæŒçºŒï¼Œå¯ä»¥å˜—è©¦å®Œå…¨ç§»é™¤ `vercel.json`ï¼Œå› ç‚º Next.js 16 åœ¨ Vercel ä¸Šæ‡‰è©²æœƒè‡ªå‹•è™•ç†è·¯ç”±ï¼š

```bash
# åˆªé™¤ vercel.json æ–‡ä»¶
rm vercel.json
```

ç„¶å¾Œé‡æ–°éƒ¨ç½²ã€‚

### é¸é … B: æª¢æŸ¥ Next.js ç‰ˆæœ¬

è€ƒæ…®å‡ç´š Next.js åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š

```bash
pnpm add next@latest
```

### é¸é … C: æª¢æŸ¥ Vercel å°ˆæ¡ˆè¨­ç½®

1. åœ¨ Vercel Dashboard ä¸­ï¼Œå‰å¾€ **Settings** â†’ **General**
2. ç¢ºèª **Framework Preset** è¨­ç½®ç‚º **Next.js**
3. ç¢ºèª **Build Command** ç‚º `next build`
4. ç¢ºèª **Output Directory** ç‚º `.next` (æˆ–ç•™ç©º)

## ğŸ“ ç•¶å‰é…ç½®æ‘˜è¦

### vercel.json
```json
{
  "rewrites": [
    {
      "source": "/((?!api|_next/static|_next/image|favicon.ico|.*\\.(ico|png|jpg|jpeg|svg|gif|webp|css|js|json|xml|txt|woff|woff2|ttf|eot)).*)",
      "destination": "/"
    }
  ]
}
```

### é—œéµæ–‡ä»¶ç‹€æ…‹
- âœ… `app/page.tsx` - å®¢æˆ¶ç«¯çµ„ä»¶
- âœ… `app/not-found.tsx` - å‹•æ…‹æ¸²æŸ“
- âœ… `app/layout.tsx` - æ­£ç¢ºé…ç½®
- âœ… `next.config.mjs` - æ­£ç¢ºé…ç½®

## ğŸ†˜ éœ€è¦å¹«åŠ©ï¼Ÿ

å¦‚æœå•é¡Œä»ç„¶å­˜åœ¨ï¼Œè«‹æä¾›ï¼š
1. Vercel éƒ¨ç½²æ—¥èªŒçš„å®Œæ•´è¼¸å‡º
2. ç€è¦½å™¨æ§åˆ¶å°çš„éŒ¯èª¤ä¿¡æ¯
3. å…·é«”å“ªå€‹è·¯ç”±å°è‡´ 404 éŒ¯èª¤

